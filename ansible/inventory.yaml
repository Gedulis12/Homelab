---
k3s_cluster:
  children:
    server:
      hosts:
        pi:
          ansible_host: 192.168.0.210
          ansible_port: 22
          ansible_user: pi
    agent:
      hosts:
        tvinksonas:
          ansible_host: 192.168.0.135
          ansible_port: 22
          ansible_user: gedas
        n200:
          ansible_host: 192.168.0.222
          ansible_port: 22
          ansible_user: gedas
  vars:
    token: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          37656134623832323931616633663536646333663135383139333663373332643164376565623531
          6236303066393462386634613562373662393435333136350a646566303161656532366361613361
          31323735333264303565393835376137653564363130666130653961313230333635376137646235
          3131613565613363310a353037353862633162343137333731353363363261323363333164313538
          66306339636135313832393166316232373134373338643262323335356530373232356138303036
          33383431336465383335346636376130386162326135383964623137643061313263386133623731
          63666238393664616630356562623234316561363562306233633662626336316265393233656265
          65663832353034343134
    api_endpoint: "{{ hostvars[groups['server'][0]]['ansible_host'] | default(groups['server'][0]) }}"
    k3s_version: v1.33.3+k3s1

    extra_server_args: "--disable=traefik --disable servicelb --flannel-backend=none --disable-network-policy --embedded-registry"
    cluster_context: k3s-homelab
    registries_config.yaml: |
      mirrors:
        "*":
